<script>
    var sample_list = document.querySelectorAll('.sample_wrap > ul > li');
    sample_list.forEach((t) => {
        var design = t.querySelector('.design_box'),
        code = t.querySelector('.code_box'),
        Source_code = String(design.innerHTML);

        const b = document.createElement('button');
        b.innerHTML = 'View source'
        t.querySelector('h3').append(b)

        t.getElementsByTagName('h3')[0].children[0].addEventListener('click', function(e){
            const code_box = t.getElementsByClassName('code_box');
            const style_box = t.getElementsByClassName('style_box');
            if(code_box[0].classList.contains('active')){
                code_box[0].classList.remove("active");
                style_box[0].classList.remove("active");
                e.currentTarget.textContent = "View source"
            } else {
                code_box[0].classList.add("active");
                style_box[0].classList.add("active");
                e.currentTarget.textContent = "Hide source"
            }
        });
        
        if(code.children[0].textContent == ''){
            code.children[0].innerHTML = escapeHtml(Source_code)
        }
    });
    
    document.getElementsByTagName('h2')[0].children[0].addEventListener('click', function(e){
        if(document.querySelector('.sample_wrap').classList.contains('division')){
            document.querySelector('.sample_wrap').classList.remove('division');
        } else {
            document.querySelector('.sample_wrap').classList.add('division');
        }
    });
    
    function escapeHtml(str) {
        var map = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#039;'
        };
        return str.replace(/[&<>"']/g, function(m) { return map[m]; });
    }

    const max = [333,666,999,101010]
    const _target = document.querySelectorAll(".count");
    for(let i=0; i<max.length; i++){
        if(_target.length > i){
            setTimeout(() => counter(_target[i], max[i]));
        }
    }
    </script>
    <div class="sample_wrap">
        <h2>JS
            <button><em>분할</em></button>
        </h2>
        <ul><!-- [design_box] pre 자동 생성으로 pre 기준으로 소스 들여쓰기 필요 -->
            <li>
                <div class="item">
                    <h3>count animation</h3>
                    <div class="design_box">
<p class="count">0</p>
                    </div>
                    <pre class="code_box"><code></code></pre>
                    <pre class="style_box"><code>
const max = [333,666,999,101010]
const _target = document.querySelectorAll(".count");
for(let i=0; i<max.length; i++){
    if(_target.length > i){
        setTimeout(() => counter(_target[i], max[i]));
    }
}
                    </code></pre>
                </div>
            </li>
            <!-- count_animation -->
            <!-- toast -->
            <li>
                <div class="item">
                    <h3>Toast popup</h3>
                    <ul class="explain">
                        <li>Toast : onclick="toast(타입(자동:auto, 수동:confirm), 노출할 메세지, 토스트팝업이 닫히는 시간);"</li>
                    </ul>
                    <div class="design_box">
    <!-- toast open button -->
    <a href="#none" onclick="toast('confirm', '1 확인되었습니다.');" class="btn_min btn_ok">Toast-confirm</a>
    <a href="#none" onclick="toast('auto', '2 확인되었습니다.', 3000);" class="btn_min btn_ok">Toast-auto</a>
    <!-- //toast open button -->

    <!-- toast -->
    <div class="toast">
    </div>
    <!-- //toast -->
                    </div>
                    <pre class="code_box"><code></code></pre>
                    <pre class="style_box"><code>
    toast('confirm', '노출할 내용');
    toast('auto', '노출할 내용', 닫히는 시간);
                    </code></pre>
                </div>
            </li>

            <!-- modal -->
            <li>
                <div class="item">
                    <h3>Modal</h3>
                    <ul class="explain">
                        <li>Modal 호출 : modal(this)</li>
                        <li>data-modal : 사이즈 및 형태 지정 [-dim = 배경 dim처리 / 사이즈 = full, medium, small]</li>
                        <li>data-cont : 호출할 콘텐츠 경로</li>
                    </ul>
                    <div class="design_box">
    <!-- modal open button -->
    <a href="#none" onclick="modal(this);" data-modal="full-dim" data-cont="modal_sample/sample_small" class="btn_min btn_ok">Full Modal</a>
    <a href="#none" onclick="modal(this);" data-modal="small-dim" data-cont="modal_sample/sample_small" class="btn_min btn_ok">small Modal</a>
    <a href="#none" onclick="modal(this);" data-modal="layer" data-cont="modal_sample/sample_small" class="btn_min btn_ok">Layer Modal</a>
    <!-- //modal open button -->

    <!-- toast -->
    <div class="toast">
    </div>
    <!-- //toast -->
                    </div>
                    <pre class="code_box"><code></code></pre>
                    <pre class="style_box"><code>
onclick="modal(this)" data-modal="사이즈 및 형태" data-cont="호출할 콘텐츠 경로"
                    </code></pre>
                </div>
            </li>
        </ul>
    </div>